function Nodes = mesh_nodes(mesh_size,pol_deg)    % We want to gain a matrix containing the node numbers globally of each cell.    % As input we need the size of the mesh and the polynomial degree.        % ----------- mesh and cell properties we need for the calculation ----------    dimension_domain = 2;    k = 0;    nodes_per_cell =  (factorial(dimension_domain)/(factorial(k)*factorial(dimension_domain-k))) * pol_deg^k * (pol_deg+1)^(dimension_domain-k);    cell_counter = (1/mesh_size)^2;    Nodes = zeros(cell_counter, nodes_per_cell);    row_counter = pol_deg + 1 ;    nodes_per_row = nodes_per_cell / row_counter;    node_counter = 1;    node_per_cell_iteration=0;    k=1;    mesh_cells_per_row=(1/mesh_size);    mesh_nodes_per_row=(pol_deg*mesh_cells_per_row)+1;    mesh_nodes_row_range = mesh_nodes_per_row;    % ---------------------------------------------------------------------------        % ---------------------- Calculate Nodes matrix ------------------------------        % 1. Calculate just the first node number globally of each Nodes.    for i=1:cell_counter        i = int32(i);        Nodes(i,1)=node_counter;        % check if at border        if(node_counter + nodes_per_row - 1 < mesh_nodes_row_range)            node_counter = node_counter + nodes_per_row - 1;        elseif( i < cell_counter )            node_counter = node_counter + nodes_per_row - 1 - nodes_per_row*mesh_cells_per_row+mesh_cells_per_row+mesh_nodes_per_row*(row_counter-1);            mesh_nodes_row_range = mesh_nodes_row_range + mesh_nodes_per_row*(row_counter-1);        endif    endfor        % 2. Calculate from the first node of the Nodes to the end of the row each node number globally    for i=1:cell_counter        for k=2:nodes_per_row            i = int32(i);            Nodes(i,k)=Nodes(i,k-1)+1;        endfor    endfor        % 3. Iterate through each row in the Nodes and use the first row which we calculated already in the 2nd step as reference.    for c=1:cell_counter        for k=1:nodes_per_row            i=k+nodes_per_row;            while i <= nodes_per_cell                i = int32(i);                Nodes(c,i)=Nodes(c,i-nodes_per_row)+mesh_nodes_per_row;                i=i+nodes_per_row;            endwhile          endfor      endfor        % ------------------------------------------------------------------------        endfunction 